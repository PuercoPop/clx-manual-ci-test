<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- The Common LISP X Interface (CLX)

Copyright (C) 1988, 1989 Texas Instruments Incorporated

Permission is granted to any individual or institution to use, copy,
modify and distribute this document, provided that this complete
copyright and permission notice is maintained, intact, in all copies
and supporting documentation. Texas Instruments Incorporated makes no
representations about the suitability of this document or the software
described herein for any purpose. It is provided "as is" without
express or implied warranty.
 -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Common LISP X Interface: Managing the Output Buffer</title>

<meta name="description" content="Common LISP X Interface: Managing the Output Buffer">
<meta name="keywords" content="Common LISP X Interface: Managing the Output Buffer">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Function-Index.html#Function-Index" rel="index" title="Function Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Displays.html#Displays" rel="up" title="Displays">
<link href="Closing-the-Display.html#Closing-the-Display" rel="next" title="Closing the Display">
<link href="Display-Attributes.html#Display-Attributes" rel="prev" title="Display Attributes">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Managing-the-Output-Buffer"></a>
<div class="header">
<p>
Next: <a href="Closing-the-Display.html#Closing-the-Display" accesskey="n" rel="next">Closing the Display</a>, Previous: <a href="Display-Attributes.html#Display-Attributes" accesskey="p" rel="prev">Display Attributes</a>, Up: <a href="Displays.html#Displays" accesskey="u" rel="up">Displays</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Managing-the-Output-Buffer-1"></a>
<h3 class="section">3.3 Managing the Output Buffer</h3>


<p>Most CLX functions cause output requests to be generated to an X
server. Output requests are not transmitted immediately but instead
are stored in an <em>output buffer</em> for the appropriate
display. Requests in the output buffer are typically sent only when
the buffer is filled. Alternatively, buffered requests can be sent
prior to processing an event in the input event queue
(see <a href="Processing-Events.html#Processing-Events">Processing Events</a>). In either case, CLX sends the output
buffer automatically without explicit instructions from the client
application.
</p>
<p>However, in some cases, explicit control over the output buffer is
needed, typically to ensure that the X server is in a consistent state
before proceeding further. The <var>display-force-output</var> and
<var>display-finish-output</var> functions allow a client program to
synchronize with buffered output requests.
</p>
<dl>
<dt><a name="index-display_002dafter_002dfunction"></a>Function: <strong>display-after-function</strong> <em>display</em></dt>
<dd>
<dl compact="compact">
<dt><var>display</var></dt>
<dd><p>A <var>display</var> object.
</p></dd>
</dl>

<p>Returns and (with <code>setf</code>) sets the <em>after-function</em> for the
given <em>display</em>. If <em>after-function</em> is non-<var>nil</var>, it is
a function that is called after every protocol request is generated,
even those inside an explicit <var>with-display</var>, but never called
from inside the <em>after-function</em>. The function is called inside
the effective <var>with-display</var> for the associated request. The
default value is <var>nil</var>. This can be set, for example, to
#&rsquo;<var>display-force-output</var> or #&rsquo; <var>display-finish-outpu</var>t.
</p><dl compact="compact">
<dt><var>after-function</var></dt>
<dd><p>Type <var>function</var> or <var>null</var>.
</p></dd>
</dl>

</dd></dl>


<dl>
<dt><a name="index-display_002dforce_002doutput"></a>Function: <strong>display-force-output</strong> <em>display</em></dt>
<dd><a name="display_002dforce_002doutput"></a>
<dl compact="compact">
<dt><var>display</var></dt>
<dd><p>A <var>display</var> object.
</p></dd>
</dl>

<p>Forces any buffered output to be sent to the X server.
</p>
</dd></dl>


<dl>
<dt><a name="index-display_002dfinish_002doutput"></a>Function: <strong>display-finish-output</strong> <em>display</em></dt>
<dd><a name="display_002dfinish_002doutput"></a>
<dl compact="compact">
<dt><var>display</var></dt>
<dd><p>A <var>display</var> object.
</p></dd>
</dl>

<p>Forces any buffered output to be sent to the X server and then waits
until all requests display error handler. Any events generated by
output requests are read and stored in the event queue.
</p>
</dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Closing-the-Display.html#Closing-the-Display" accesskey="n" rel="next">Closing the Display</a>, Previous: <a href="Display-Attributes.html#Display-Attributes" accesskey="p" rel="prev">Display Attributes</a>, Up: <a href="Displays.html#Displays" accesskey="u" rel="up">Displays</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
