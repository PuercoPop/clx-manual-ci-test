<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- The Common LISP X Interface (CLX)

Copyright (C) 1988, 1989 Texas Instruments Incorporated

Permission is granted to any individual or institution to use, copy,
modify and distribute this document, provided that this complete
copyright and permission notice is maintained, intact, in all copies
and supporting documentation. Texas Instruments Incorporated makes no
representations about the suitability of this document or the software
described herein for any purpose. It is provided "as is" without
express or implied warranty.
 -->
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>Common LISP X Interface: Input Focus Events</title>

<meta name="description" content="Common LISP X Interface: Input Focus Events">
<meta name="keywords" content="Common LISP X Interface: Input Focus Events">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Function-Index.html#Function-Index" rel="index" title="Function Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Event-Types.html#Event-Types" rel="up" title="Event Types">
<link href="Keyboard-and-Pointer-State-Events.html#Keyboard-and-Pointer-State-Events" rel="next" title="Keyboard and Pointer State Events">
<link href="Keyboard-and-Pointer-Events.html#Keyboard-and-Pointer-Events" rel="prev" title="Keyboard and Pointer Events">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="Input-Focus-Events"></a>
<div class="header">
<p>
Next: <a href="Keyboard-and-Pointer-State-Events.html#Keyboard-and-Pointer-State-Events" accesskey="n" rel="next">Keyboard and Pointer State Events</a>, Previous: <a href="Keyboard-and-Pointer-Events.html#Keyboard-and-Pointer-Events" accesskey="p" rel="prev">Keyboard and Pointer Events</a>, Up: <a href="Event-Types.html#Event-Types" accesskey="u" rel="up">Event Types</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Input-Focus-Events-1"></a>
<h4 class="subsection">13.11.2 Input Focus Events</h4>


<p>The input focus events are <var>:focus-in</var> and <var>:focus-out</var>.
</p>
<dl>
<dt><a name="index-_003afocus_002din"></a>Event Type: <strong>:focus-in</strong></dt>
<dt><a name="index-_003afocus_002dout"></a>Event Type: <strong>:focus-out</strong></dt>
<dd>
<p>Selected by: <var>:focus-change</var>.
</p>
<p><var>:focus-in</var> and <var>:focus-out</var> events are generated when the
input focus changes. All <var>:focus-out</var> events caused by a window
<var>:unmap</var> are generated after any <var>:unmap-notify</var> event,
but the ordering of <var>:focus-out</var> with respect to generated
<var>:enter-notify</var>, <var>:leave-notify</var>,
<var>:visibility-notify</var>, and <var>:expose</var> events is not
constrained.
</p>
<dl compact="compact">
<dt><var>window</var></dt>
<dt><var>event-window</var></dt>
<dd><p>Type <var>window</var>.
</p>
<p>For <var>:focus-in</var>, the new input focus window. For <var>:focus-out</var>, the previous input
focus window.
</p>
</dd>
<dt><var>mode</var></dt>
<dd><p>Type <code>(member :normal :while-grabbed :grab :ungrab)</code>.
</p>
<p>Events generated by <var>set-input-focus</var> when the keyboard is not grabbed have
mode <var>:normal</var>. Events generated by <var>set-input-focus</var> when the keyboard is
grabbed have mode <var>:while-grabbed</var>. Events generated when a keyboard grab
activates have mode <var>:grab</var>, and events generated when a keyboard grab
deactivates have mode <var>:ungrab</var>.
</p>
</dd>
<dt><var>kind</var></dt>
<dd><p>Type (<var>member :ancestor :virtual :inferior :nonlinear :nonlinear-virtual :pointer :pointer-root :none</var>).
</p>
<p>When the focus moves from window A to window B, and A is an inferior of B,
with the pointer in window P:
</p><ul>
<li> <var>:focus-out</var> with <em>kind</em> <var>:ancestor</var> is
generated on A

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:virtual</var> is
generated on each window between A and B exclusive (in that
order)

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:inferior</var> is
generated on B

</li><li> If P is an inferior of B, but P is not A or an inferior of
A or an ancestor of A, <var>:focus-in</var> with <em>kind</em>
<var>:pointer</var> is generated on each window below B down
to and including P (in order)
</li></ul>

<p>When the focus moves from window A to window B, and B is an inferior of A,
with the pointer in window P:
</p><ul>
<li> If P is an inferior of A, but P is not A or an inferior of
B or an ancestor of B, <var>:focus-out</var> with <em>kind</em>
<var>:pointer</var> is generated on each window from P up to
but not including A (in order)

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:inferior</var> is
generated on A

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:virtual</var> is
generated on each window between A and B exclusive (in
that order)

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:ancestor</var> is
generated on B
</li></ul>

<p>When the focus moves from window A to window B, with window C being
their least common ancestor, and with the pointer in window P:
</p><ul>
<li> If P is an inferior of A, <var>:focus-out</var> with
<em>kind</em> <var>:pointer</var> is generated on each window
from P up to but not including A (in order)

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:nonlinear</var> is
generated on A

</li><li> <var>:focus-out</var> with <em>kind</em>
<var>:nonlinear-virtual</var> is generated on each window
between A and C exclusive (in that order)

</li><li> <var>:focus-in</var> with <em>kind</em>
<var>:nonlinear-virtual</var> is generated on each window
between C and B exclusive (in that order)

</li><li> :focus-in with <em>kind</em> <var>:nonlinear</var> is generated
on B

</li><li> If P is an inferior of B, <var>:focus-in</var> with
<em>kind</em> <var>:pointer</var> is generated on each window
below B down to and including P (in order)
</li></ul>

<p>When the focus moves from window A to window B, on different
screens, with the pointer in window P:
</p><ul>
<li> If P is an inferior of A, <var>:focus-out</var> with
<em>kind</em> <var>:pointer</var> is generated on each window
from P up to but not including A (in order)

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:nonlinear</var> is
generated on A

</li><li> If A is not a root window, <var>:focus-out</var> with
<em>kind</em> <var>:nonlinear-virtual</var> is generated on each
window above A up to and including its root (in order)

</li><li> If B is not a root window, <var>:focus-in</var> with
<em>kind</em> <var>:nonlinear-virtual</var> is generated on each
window from B&rsquo;s root down to but not including B (in
order)

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:nonlinear</var> is
generated on B

</li><li> If P is an inferior of B, <var>:focus-in</var> with
<em>kind</em> <var>:pointer</var> is generated on each window
below B down to and including P (in order)
</li></ul>

<p>When the focus moves from window A to <var>:pointer-root</var>
(or <var>:none</var>), with the pointer in window P:
</p><ul>
<li> If P is an inferior of A, <var>:focus-out</var> with
<em>kind</em> <var>:pointer</var> is generated on each window
from P up to but not including A (in order)

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:nonlinear</var> is
generated on A

</li><li> If A is not a root window, <var>:focus-out</var> with
<em>kind</em> <var>:nonlinear-virtual</var> is generated on each
window above A up to and including its root (in order)

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:pointer-root</var> (or
<var>:none</var>) is generated on all root windows

</li><li> If the new focus is <var>:pointer-root</var>, <var>:focus-in</var>
with <em>kind</em> <var>:pointer</var> is generated on each
window from P&rsquo;s root down to and including P (in order)
</li></ul>

<p>When the focus moves from <var>:pointer-root</var> (or
<var>:none</var>) to window A, with the pointer in window P:
</p><ul>
<li> If the old focus is <var>:pointer-root</var>,
<var>:focus-out</var> with <em>kind</em> <var>:pointer</var> is
generated on each window from P up to and including P&rsquo;s
root (in order)

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:pointer-root</var>
(or <var>:none</var>) is generated on all root windows

</li><li> If A is not a root window, <var>:focus-in</var> with
<em>kind</em> <var>:nonlinear-virtual</var> is generated on each
window from A&rsquo;s root down to but not including A (in
order)

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:nonlinear</var> is
generated on A

</li><li> If P is an inferior of A, <var>:focus-in</var> with
<em>kind</em> <var>:pointer</var> is generated on each window
below A down to and including P (in order)
</li></ul>

<p>When the focus moves from <var>:pointer-root</var> to
<var>:none</var> (or vice versa), with the pointer in window P:
</p><ul>
<li> If the old focus is <var>:pointer-root</var>,
<var>:focus-out</var> with <em>kind</em> <var>:pointer</var> is
generated on each window from P up to and including P&rsquo;s
root (in order)

</li><li> <var>:focus-out</var> with <em>kind</em> <var>:pointer-root</var>
(or <var>:none</var>) is generated on all root windows

</li><li> <var>:focus-in</var> with <em>kind</em> <var>:none</var> (or
<var>:pointer-root</var>) is generated on all root windows

</li><li> If the new focus is <var>:pointer-root</var>, <var>:focus-in</var>
with <em>kind</em> <var>:pointer</var> is generated on each
window from P&rsquo;s root down to and including P (in order)
</li></ul>
</dd>
</dl>


<p>When a keyboard grab activates (but before generating any actual
<var>:key-press</var> event that activates the grab), with <em>G</em>
the <var>grab-window</var> for the grab and <em>F</em> the current
focus, then <var>:focus-in</var> and <var>:focus-out</var> events with
mode <var>:grab</var> are generated (as for <var>:normal</var> above) as
if the focus were to change from <em>F</em> to <em>G</em>.
</p>
<p>When a keyboard grab deactivates (but after generating any
actual <var>:key-release</var> event that deactivates the grab),
with <em>G</em> the <var>grab-window</var> for the grab and <em>F</em>
the current focus, then <var>:focus-in</var> and <var>:focus-out</var>
events with mode <var>:ungrab</var> are generated (as for
<var>:normal</var> above) as if the focus were to change from
<em>G</em> to <em>F</em>.
</p></dd></dl>

<hr>
<div class="header">
<p>
Next: <a href="Keyboard-and-Pointer-State-Events.html#Keyboard-and-Pointer-State-Events" accesskey="n" rel="next">Keyboard and Pointer State Events</a>, Previous: <a href="Keyboard-and-Pointer-Events.html#Keyboard-and-Pointer-Events" accesskey="p" rel="prev">Keyboard and Pointer Events</a>, Up: <a href="Event-Types.html#Event-Types" accesskey="u" rel="up">Event Types</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Function-Index.html#Function-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
